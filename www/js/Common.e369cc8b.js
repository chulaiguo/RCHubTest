(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"013f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",[s("q-page-container",[s("q-page",{staticClass:"flex flex-center login-page"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.appUpdater.isLatest,expression:"appUpdater.isLatest"}]},[s("q-form",{on:{submit:t.onLogin}},[s("div",{staticClass:"logo"}),s("q-input",{attrs:{dark:"",color:"white",rules:[function(t){return t&&t.length>0||"Please input your user id"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.name=""}}})]},proxy:!0}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),s("q-input",{attrs:{dark:"",color:"white",type:t.isPassword?"password":"text",rules:[function(t){return t&&t.length>0||"Please input your password"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{attrs:{name:t.isPassword?"visibility_off":"visibility",lass:"cursor-pointer"},on:{click:function(e){t.isPassword=!t.isPassword}}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("q-toggle",{attrs:{dark:"",color:"secondary",label:"Remeber Me"},model:{value:t.rememberMe,callback:function(e){t.rememberMe=e},expression:"rememberMe"}}),s("div",[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",rounded:"",label:"Login",color:"secondary",type:"submit"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.dlgJobNumber.show,callback:function(e){t.$set(t.dlgJobNumber,"show",e)},expression:"dlgJobNumber.show"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Job Number")])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{dense:"",autofocus:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.dlgJobNumber.jobNumber,callback:function(e){t.$set(t.dlgJobNumber,"jobNumber",e)},expression:"dlgJobNumber.jobNumber"}})],1),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.onJobNumber}})],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.appUpdater.isLatest,expression:"!appUpdater.isLatest"}]},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.appUpdater.isAndroid,expression:"appUpdater.isAndroid"}],staticStyle:{"text-align":"center"}},[s("h5",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.appUpdater.updateTitle))]),s("q-linear-progress",{staticStyle:{height:"20px"},attrs:{value:t.appUpdater.downloadProcessValue/100,rounded:""}},[s("div",{staticClass:"absolute-full flex flex-center"},[s("q-badge",{attrs:{color:"white","text-color":"accent",label:t.appUpdater.downloadProcessValue+"%"}})],1)])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.appUpdater.isAndroid,expression:"!appUpdater.isAndroid"}],staticStyle:{"text-align":"center"}},[s("h5",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.appUpdater.updateTitle))]),s("q-linear-progress",{staticStyle:{height:"20px"},attrs:{value:t.appUpdater.downloadProcessValue/100,rounded:""}},[s("div",{staticClass:"absolute-full flex flex-center"},[s("q-badge",{attrs:{color:"white","text-color":"accent",label:t.appUpdater.downloadProcessValue+"%"}})],1)])],1)]),s("div",{staticClass:"version"},[s("p",[t._v(t._s("Version: "+t.appUpdater.version))])])],1)],1)],1)},a=[],o=s("bc3a"),n=s.n(o),r=s("2c75");class l{static Login(t,e,s){const i={userId:t,password:e,ticks:s};return r["a"].post("BizLogin_Login",i)}}var c=s("06d6"),u=s("d257"),h=s("df98"),p=s("2b0e"),d=p["a"].extend({name:"Login",data(){return{userId:"",password:"",isPassword:!0,rememberMe:!0,dlgJobNumber:{show:!1,jobNumber:""},appUpdater:{isLatest:!1,isAndroid:!1,updateTitle:"Checking new version ...",updateBaseUrl:"https://rciupdatetest.azurewebsites.net/RCAppsHome",appName:"RCHub",version:"3.2.6",downloadProcessValue:0}}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onLogin(){let t=this.userId,e=this.password;this.login(t,e)},login(t,e){this.$q.loading.show();const s=u["a"].getTicks().toString();let i="";e.length>0&&(i=u["a"].encryptPassword(s,e.toLowerCase())),l.Login(t,i,s).then(t=>{if(this.$q.loading.hide(),t.data.ok){u["a"].setAuthorization(t.data.authorization),this.rememberMe?u["a"].setRemeberMe(t.data.authorization):u["a"].clearRemeberMe();const e={isEmployee:t.data.isEmployee,employeePK:t.data.employeePK,accountPK:t.data.accountPK,fullName:t.data.fullName,currentTime:t.data.currentTime,minDateTime:t.data.minDateTime,maxDateTime:t.data.maxDateTime,isCompanyManager:t.data.isCompanyManager,isDivisionManager:t.data.isDivisionManager,isRegionManager:t.data.isRegionManager,isJobManager:t.data.isRegionManager,searchJobNumber:"",searchDateTime:t.data.currentTime,searchRegionPK:"",searchRegionName:""},s=u["a"].getJob();e.searchJobNumber=s.jobNumber,e.searchRegionName=s.regionName,e.searchRegionPK=s.regionPK,h["a"].save(e),e.isEmployee?this.$router.push({path:"/EmployeeTimesheetList"}):e.searchJobNumber?this.$router.push({path:"/JobTimesheetList"}):this.dlgJobNumber.show=!0}else this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},onJobNumber(){this.$q.loading.show(),c["a"].GetJob(this.dlgJobNumber.jobNumber).then(t=>{if(this.$q.loading.hide(),t.data.ok){this.dlgJobNumber.show=!1,u["a"].setJob({jobNumber:t.data.jobNumber,regionName:t.data.regionName,regionPK:t.data.regionPK});const e=h["a"].load();e.searchJobNumber=t.data.jobNumber,e.searchRegionPK=t.data.regionPK,e.searchRegionName=t.data.regionName,h["a"].save(e),this.$router.push({path:"/JobTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},autoLogin(){u["a"].hasAuthorization()&&this.login("","")},checkVersion(t){this.$q.platform.is.android?this.appUpdater.isAndroid=!0:this.appUpdater.isAndroid=!1,this.appUpdater.isAndroid?this.checkAndroidVersion(e=>{e?this.updateApp():t()}):this.checkIOSVersion(e=>{e?this.updateApp():t()})},checkAndroidVersion(t){let e=`${this.appUpdater.updateBaseUrl}/${this.appUpdater.appName}/${this.appUpdater.appName}.txt`;n.a.get(e).then(e=>{let s=e.data.Version;s!=this.appUpdater.version?(this.appUpdater.updateTitle="Downloading new version...",t(!0)):t(!1)}).catch(t=>{this.showUpdateError(t.message)})},checkIOSVersion(t){let e=`${this.appUpdater.updateBaseUrl}/${this.appUpdater.appName}/${this.appUpdater.appName}.plist`;n.a.get(e).then(e=>{let s="";const i=e.data.split(/\r\n|[\r\n]/);for(let t=0;t<i.length;t++){const e=i[t];if(e.endsWith("<key>bundle-version</key>")&&t+1<i.length){const e=i[t+1].indexOf("<string>");s=i[t+1].substring(e+8,e+8+5)}}s.length>0&&s!=this.appUpdater.version?(this.appUpdater.updateTitle="Updating the App, please wait...",t(!0)):t(!1)}).catch(t=>{this.showUpdateError(t.message)})},updateApp(){if(this.appUpdater.isAndroid){let t=(new Date).getTime(),e=`${this.appUpdater.updateBaseUrl}/${this.appUpdater.appName}/${this.appUpdater.appName}.apk?v=${t}`;this.updateAndroid(e)}else{let t=`itms-services://?action=download-manifest&url=${this.appUpdater.updateBaseUrl}/${this.appUpdater.appName}/${this.appUpdater.appName}.plist`;this.updateIOS(t)}},updateAndroid(t){const e=this;window.resolveLocalFileSystemURL(cordova.file.externalDataDirectory,(function(s){s.getFile(`${e.appUpdater.appName}.apk`,{create:!0,exclusive:!1},(function(s){n()({method:"GET",url:t,responseType:"blob",onDownloadProgress(t){t.lengthComputable&&e.$nextTick(()=>{e.appUpdater.downloadProcessValue=Math.round(t.loaded/t.total*100)})}}).then(t=>{var e=new Blob([t.data],{type:"application/vnd.android.package-archive"});s.createWriter((function(t){t.onwriteend=function(){cordova.plugins.fileOpener2.open(s.toInternalURL(),"application/vnd.android.package-archive")},t.write(e)}))}).catch(t=>{e.showUpdateError("download error: "+t.message)})}),t=>{e.showUpdateError("error getting file! "+t.message)})}),t=>{e.showUpdateError("error getting persistent fs! "+t.code)})},updateIOS(t){cordova.InAppBrowser.open(t,"_system","location=no"),this.simulateDownloadIOS()},simulateDownloadIOS(){setTimeout(()=>{this.appUpdater.downloadProcessValue>=100?cordova.plugins.exit():(this.$nextTick(()=>{this.appUpdater.downloadProcessValue+=10}),this.simulateDownloadIOS())},1e3)},showUpdateError(t){navigator.notification.alert(t,()=>{cordova.plugins.exit()})}},mounted(){this.$q.platform.is.cordova?this.checkVersion(()=>{this.appUpdater.isLatest=!0,this.autoLogin()}):(this.appUpdater.isLatest=!0,this.autoLogin())}}),m=d,b=(s("d423"),s("2c53"),s("2877")),g=Object(b["a"])(m,i,a,!1,null,"c97a07a2",null);e["default"]=g.exports},"04bd":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static Approve(t){const e={pk:t};return i["a"].post("BizNightReport_Approve",e)}static Create(t,e,s){const a={jobNumber:t,day:e,taskType:s};return i["a"].post("BizNightReport_Create",a)}static Delete(t){const e={pk:t};return i["a"].post("BizNightReport_Delete",e)}static EmailNightReport(t,e){const s={jobNumber:t,day:e};return i["a"].post("BizNightReport_EmailNightReport",s)}static GetByPK(t){const e={pk:t};return i["a"].post("BizNightReport_GetByPK",e)}static GetList(t,e,s){const a={jobNumber:t,begin:e,end:s};return i["a"].post("BizNightReport_GetList",a)}static Insert(t){return i["a"].post("BizNightReport_Insert",t)}static Update(t){return i["a"].post("BizNightReport_Update",t)}}},"0573":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onBack}}),i("q-toolbar-title",[t._v(t._s(t.title))]),i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"more_vert"},on:{click:t.onMore}})],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:t.dlgUseEquipment.show,callback:function(e){t.$set(t.dlgUseEquipment,"show",e)},expression:"dlgUseEquipment.show"}},[i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Comments")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{square:"",outlined:"",type:"textarea",dense:"",autofocus:"",rules:[function(t){return t&&t.length>0||"Please input comments"}]},model:{value:t.dlgUseEquipment.comments,callback:function(e){t.$set(t.dlgUseEquipment,"comments",e)},expression:"dlgUseEquipment.comments"}})],1),i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Photo")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-field",{attrs:{square:"",outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline text-center cursor-pointer",on:{click:t.onTakePhoto}},[t.dlgUseEquipment.photo.length>0?i("img",{attrs:{src:"data:image/jpeg;base64,"+t.dlgUseEquipment.photo}}):i("img",{attrs:{src:s("c746")}})])]},proxy:!0}])})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),i("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.onProcess}})],1)],1)],1),i("q-page-container",[i("q-page",[i("q-form",{ref:"frmEquipmentRepair"},[i("q-input",{attrs:{square:"",outlined:"",label:"Job Number",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.entity.jobNumber,callback:function(e){t.$set(t.entity,"jobNumber",e)},expression:"entity.jobNumber"}}),i("q-input",{attrs:{square:"",outlined:"",label:"Equipment Name",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"devices"}})]},proxy:!0}]),model:{value:t.entity.equipmentName,callback:function(e){t.$set(t.entity,"equipmentName",e)},expression:"entity.equipmentName"}}),i("q-input",{attrs:{square:"",outlined:"",label:"Serial Number",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:t.entity.serialNumb,callback:function(e){t.$set(t.entity,"serialNumb",e)},expression:"entity.serialNumb"}}),i("q-input",{attrs:{square:"",outlined:"",label:"Status Name",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"flag"}})]},proxy:!0}]),model:{value:t.entity.statusName,callback:function(e){t.$set(t.entity,"statusName",e)},expression:"entity.statusName"}}),0!=t.entity.status?i("q-input",{attrs:{square:"",outlined:"",label:"Pickup Date",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"today"}})]},proxy:!0}],null,!1,2728112747),model:{value:t.entity.pickupDate,callback:function(e){t.$set(t.entity,"pickupDate",e)},expression:"entity.pickupDate"}}):t._e(),t.entity.comments.length>0?i("q-field",{attrs:{square:"",outlined:"",readonly:"",label:"Comments","stack-label":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"message"}})]},proxy:!0},{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline"},t._l(t.entity.comments.split(";"),(function(e){return i("div",{key:e},[i("p",[t._v(t._s(e))])])})),0)]},proxy:!0}],null,!1,501825469)}):t._e(),t.entity.actionNotes.length>0?i("q-field",{attrs:{square:"",outlined:"",readonly:"",label:"ActionNotes","stack-label":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"note"}})]},proxy:!0},{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline"},t._l(t.entity.actionNotes.split(";"),(function(e){return i("div",{key:e},[i("p",[t._v(t._s(e))])])})),0)]},proxy:!0}],null,!1,3883421563)}):t._e(),t._l(t.entity.attachedList,(function(e,s){return i("q-field",{key:s,attrs:{square:"",outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline text-center"},[i("p",[t._v(t._s(e.fileName+"("+e.attachedPhotoSize+")"))]),i("img",{attrs:{src:"data:image/jpeg;base64,"+e.attachedPhoto}})])]},proxy:!0}],null,!0)})}))],2)],1)],1)],1)},a=[],o=s("2b0e"),n=s("6368"),r=s("6ffb"),l=o["a"].extend({name:"EquipmentRepairDetail",data(){return{title:"Equipment Repair Detail",dlgUseEquipment:{processId:0,comments:"",photo:"",show:!1},entity:{pk:"",equipmentPK:"",equipmentType:"",equipmentName:"",serialNumb:"",jobNumber:"",pickupDate:"",orderNumb:0,status:0,statusName:"",comments:"",actionNotes:"",attachedList:new Array}}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onBack(){this.$router.back()},onMore(){const t=new Array;switch(t.push({label:"PickedUp Equipment",icon:"build",id:0}),t.push({label:"Returned Equipment",icon:"done",id:1}),this.entity.status){case 0:t.splice(1,1);break;case 1:t.splice(0,1);break}this.$q.bottomSheet({actions:t}).onOk(t=>{this.dlgUseEquipment.processId=t.id,this.dlgUseEquipment.show=!0})},onTakePhoto(){n["a"].takePicture(t=>{this.dlgUseEquipment.photo=t})},onProcess(){if(this.dlgUseEquipment.comments)switch(this.dlgUseEquipment.show=!1,this.$q.loading.show(),this.dlgUseEquipment.processId){case 0:r["a"].Pickup(this.entity.pk,this.dlgUseEquipment.comments,this.dlgUseEquipment.photo).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["EquipmentRepairStore/GET_LIST"];if(e)for(let s of e)if(s.pk==t.data.entity.pk){Object.assign(s,t.data.entity);break}this.$router.push({name:"EquipmentRepairList"})}else this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)});break;case 1:r["a"].Returned(this.entity.pk,this.dlgUseEquipment.comments,this.dlgUseEquipment.photo).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["EquipmentRepairStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"EquipmentRepairList"})}else this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)});break}else this.showError("Please input comments")}},mounted(){let t=this.$route.params.PK;this.$q.loading.show(),r["a"].GetByPK(t).then(t=>{t.data.ok?this.entity=t.data.entity:this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}}),c=l,u=(s("fe17"),s("2877")),h=Object(u["a"])(c,i,a,!1,null,"5136b951",null);e["default"]=h.exports},"06d6":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static GetEmployeeList(t){const e={jobNumber:t};return i["a"].post("BizLookup_GetEmployeeList",e)}static GetEquipmentList(t){const e={jobNumber:t};return i["a"].post("BizLookup_GetEquipmentList",e)}static GetJob(t){const e={jobNumber:t};return i["a"].post("BizLookup_GetJob",e)}static GetJobListByJobManager(t){const e={accountPK:t};return i["a"].post("BizLookup_GetJobListByJobManager",e)}static GetJobListByRegion(t){const e={regionPK:t};return i["a"].post("BizLookup_GetJobListByRegion",e)}static GetLookupList(t){const e={category:t};return i["a"].post("BizLookup_GetLookupList",e)}static GetRegion(t){const e={jobNumber:t};return i["a"].post("BizLookup_GetRegion",e)}static GetRegionList(t){const e={regionName:t};return i["a"].post("BizLookup_GetRegionList",e)}static IsInJobSite(t,e,s){const a={jobNumber:t,latitude:e,longitude:s};return i["a"].post("BizLookup_IsInJobSite",a)}}},"0c43":function(t,e,s){"use strict";var i=s("2d95a"),a=s.n(i);a.a},2448:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onBack}}),s("q-toolbar-title",[t._v(t._s(t.title))]),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"done"},on:{click:t.onSave}})],1)],1),s("q-page-container",[s("q-page",[s("q-form",{ref:"frmTimesheet"},[s("q-input",{attrs:{outlined:"",label:"DateTime",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"today"}})]},proxy:!0}]),model:{value:t.entity.dateTime,callback:function(e){t.$set(t.entity,"dateTime",e)},expression:"entity.dateTime"}}),s("q-input",{attrs:{outlined:"",label:"Job Number",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.entity.jobNumber,callback:function(e){t.$set(t.entity,"jobNumber",e)},expression:"entity.jobNumber"}}),s("q-input",{attrs:{outlined:"",autofocus:"",label:"Employee#",rules:[function(t){return t&&t.length>0||"Please input empId"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"more_horiz"},on:{click:t.onSelectEmployee}})]},proxy:!0}]),model:{value:t.entity.empId,callback:function(e){t.$set(t.entity,"empId",e)},expression:"entity.empId"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"timer"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"timer"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}}),t.entity.photoIn.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo In("+t.entity.photoInSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoIn}})])]},proxy:!0}],null,!1,3539155053)}):t._e(),t.entity.photoOut.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo Out("+t.entity.photoOutSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoOut}})])]},proxy:!0}],null,!1,1089384484)}):t._e(),s("q-input",{attrs:{outlined:"",label:"Break1In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break1In,callback:function(e){t.$set(t.entity,"break1In",e)},expression:"entity.break1In"}}),s("q-input",{attrs:{outlined:"",label:"Break1Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break1Out,callback:function(e){t.$set(t.entity,"break1Out",e)},expression:"entity.break1Out"}}),s("q-input",{attrs:{outlined:"",label:"Break2In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break2In,callback:function(e){t.$set(t.entity,"break2In",e)},expression:"entity.break2In"}}),s("q-input",{attrs:{outlined:"",label:"Break2Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break2Out,callback:function(e){t.$set(t.entity,"break2Out",e)},expression:"entity.break2Out"}}),s("q-input",{attrs:{outlined:"",label:"Break3In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break3In,callback:function(e){t.$set(t.entity,"break3In",e)},expression:"entity.break3In"}}),s("q-input",{attrs:{outlined:"",label:"Break3Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break3Out,callback:function(e){t.$set(t.entity,"break3Out",e)},expression:"entity.break3Out"}}),t.isNew?t._e():s("q-btn",{staticClass:"full-width",attrs:{color:"primary",icon:"delete",label:"Delete"},on:{click:t.onDelete}})],1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("b157"),r=s("06d6"),l=o["a"].extend({name:"JobTimesheetDetail",data(){return{title:"Timesheet Detail",isNew:!1,entity:{pk:"",dateTime:"",postIn:"",postOut:"",checkIn:"",checkOut:"",break1In:"",break1Out:"",break2In:"",break2Out:"",break3In:"",break3Out:"",empId:"",jobNumber:"",photoIn:"",photoInSize:"",photoOut:"",photoOutSize:""},employeeList:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onBack(){this.$router.back()},onSelectEmployee(){this.employeeList.length>0?this.selectEmployee():(this.$q.loading.show(),r["a"].GetEmployeeList(this.entity.jobNumber).then(t=>{this.$q.loading.hide(),t.data.ok?(this.employeeList=t.data.result,0===this.employeeList.length?this.showError("There have no employee in the job("+this.entity.jobNumber+")."):this.selectEmployee()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)}))},selectEmployee(){const t=new Array;for(let e of this.employeeList)t.push({label:e.fullName,id:e.empID,icon:"person"});this.$q.bottomSheet({actions:t}).onOk(t=>{this.entity.empId=t.id})},onSave(){const t=this.$refs.frmTimesheet;t.validate(!0).then(t=>{t&&this.save()})},save(){this.isNew?(this.$q.loading.show(),n["a"].InsertTimeSheet(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["JobStore/GET_LIST"];e&&e.push(t.data.entity),this.$router.push({name:"JobTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.show()})):(this.$q.loading.show(),n["a"].UpdateTimeSheet(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["JobStore/GET_LIST"];if(e)for(let s of e)if(s.pk==t.data.entity.pk){Object.assign(s,t.data.entity);break}this.$router.push({name:"JobTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()}))},onDelete(){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this item?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.loading.show(),n["a"].DeleteTimeSheet(this.entity.pk).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["JobStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"JobTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})}},mounted(){let t=this.$route.params.PK;if(this.isNew=!t||"0"==t,this.isNew){let t=this.$route.params.JobNumber,e=this.$route.params.DateTime;this.$q.loading.show(),n["a"].CreateTimeSheet(t,e).then(t=>{t.data.ok?this.entity=t.data.entity:this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}else this.$q.loading.show(),n["a"].GetTimeSheet(t).then(t=>{t.data.ok?this.entity=t.data.entity:this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}}),c=l,u=(s("93e6"),s("2877")),h=Object(u["a"])(c,i,a,!1,null,"580c0429",null);e["default"]=h.exports},"2c53":function(t,e,s){"use strict";var i=s("b47d"),a=s.n(i);a.a},"2c75":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s("bc3a"),a=s.n(i);a.a.defaults.timeout=1e4,a.a.defaults.baseURL="https://BOETAapitest.azurewebsites.net/api/RCHub/",a.a.interceptors.request.use((function(t){const e=sessionStorage.getItem("BOETA_RCHub_authorization")||"";return e&&(t.headers.Authorization="Basic "+e),t.url=t.url+"?access_token=71FBF94A-3F5E-4190-9251-95924D4DBBD3",t}),(function(t){return Promise.reject(t)})),a.a.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));class o{static post(t,e,s){return a.a.post(t,e,s)}}},"2d95a":function(t,e,s){},"30f16":function(t,e,s){},"3f3f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onDashboard}}),s("q-toolbar-title",[t._v(t._s(t.title))])],1)],1),s("q-footer",{attrs:{elevated:""}},[s("q-toolbar",{staticClass:"row justify-around"},[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"today"},on:{click:t.onViewByDate}}),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"business"},on:{click:t.onViewByJob}})],1)],1),s("q-page-container",[s("q-page",[s("q-tree",{attrs:{nodes:t.listLevel,accordion:"","node-key":"label"},scopedSlots:t._u([{key:"default-header",fn:function(e){return[s("div",{staticClass:"row items-center"},[s("q-icon",{attrs:{color:"primary",name:e.node.icon}}),e.node.isLeaf?s("div",[s("q-item",{attrs:{clickable:""}},[s("q-item-section",{on:{click:function(s){return t.onDetail(e.node.pk)}}},[s("q-item-label",[t._v(t._s(e.node.firstName+" "+e.node.lastName))]),s("q-item-label",{attrs:{caption:""}},[s("q-icon",{attrs:{name:"schedule"}}),t._v("\n                    "+t._s(e.node.postIn+" - "+e.node.postOut))],1),s("q-item-label",{attrs:{caption:""}},[s("q-icon",{attrs:{name:"timer"}}),t._v("\n                    "+t._s(e.node.checkIn+" - "+e.node.checkOut))],1)],1),s("q-item-section",{attrs:{avatar:""}})],1)],1):s("div",[t._v("\n              "+t._s(e.node.label)+"\n            ")])],1)]}}])})],1)],1)],1)},a=[],o=s("2b0e"),n=s("fd30"),r=s("06d6"),l=s("df98"),c=o["a"].extend({name:"RegionTimesheetList",data(){return{title:"Region Timesheet",setting:new l["a"],viewType:0,list:new Array,listLevel:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onDashboard(){this.$router.push({path:"/Dashboard"})},onDetail(t){this.$router.push({name:"RegionTimesheetDetail",params:{PK:t}})},getList(t){this.$q.loading.show(),n["a"].GetTimeSheetList(t).then(t=>{this.$q.loading.hide(),t.data.ok?(this.list=t.data.list,this.$store.commit("RegionStore/SET_LIST",{list:this.list}),this.showView()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},onViewByDate(){this.viewType=0,this.showView()},onViewByJob(){this.viewType=1,this.showView()},showView(){this.$q.loading.show(),0==this.viewType?this.listLevel=this.getViewByDate():this.listLevel=this.getViewByJob(),this.$q.loading.hide()},getViewByDate(){let t=new Map;for(let s of this.list){let e,i=s.dateTime;t.has(i)?e=t.get(i):(e=new Map,t.set(i,e));let a=s.jobNumber;e.has(a)?e.get(a).push(s):e.set(a,[s])}let e=[];for(let[s,i]of t){let t={label:s,icon:"today",isLeaf:!1,children:new Array};e.push(t);for(let[e,s]of i){let i={label:e,icon:"business",isLeaf:!1,children:new Array};for(let t of s)i.children.push({label:t.pk,icon:"person",isLeaf:!0,pk:t.pk,firstName:t.firstName,lastName:t.lastName,postIn:t.postIn,postOut:t.postOut,checkIn:t.checkIn,checkOut:t.checkOut});t.children.push(i)}}return e},getViewByJob(){let t=new Map;for(let s of this.list){let e,i=s.jobNumber;t.has(i)?e=t.get(i):(e=new Map,t.set(i,e));let a=s.dateTime;e.has(a)?e.get(a).push(s):e.set(a,[s])}let e=[];for(let[s,i]of t){let t={label:s,icon:"business",isLeaf:!1,children:new Array};e.push(t);for(let[e,s]of i){let i={label:e,icon:"today",isLeaf:!1,children:new Array};for(let t of s)i.children.push({label:t.pk,icon:"person",isLeaf:!0,pk:t.pk,firstName:t.firstName,lastName:t.lastName,postIn:t.postIn,postOut:t.postOut,checkIn:t.checkIn,checkOut:t.checkOut});t.children.push(i)}}return e}},mounted(){this.setting=l["a"].load();const t=this.$store.getters["RegionStore/GET_LIST"];t&&t.length>0?(this.list=t,this.showView()):this.setting.searchRegionPK?this.getList(this.setting.searchRegionPK):r["a"].GetRegion(this.setting.searchJobNumber).then(t=>{this.$q.loading.hide(),t.data.ok?this.getList(this.setting.searchRegionPK):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})}}),u=c,h=(s("6b4b"),s("2877")),p=Object(h["a"])(u,i,a,!1,null,null,null);e["default"]=p.exports},"43fca":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"navigate_before"},on:{click:t.onBack}}),s("q-toolbar-title",[t._v(t._s(t.title))]),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"done"},on:{click:t.onSave}})],1)],1),s("q-page-container",[s("q-page",[s("q-form",{ref:"frmTimesheet"},[s("q-input",{attrs:{outlined:"",label:"DateTime",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"today"}})]},proxy:!0}]),model:{value:t.entity.dateTime,callback:function(e){t.$set(t.entity,"dateTime",e)},expression:"entity.dateTime"}}),s("q-input",{attrs:{outlined:"",label:"Job Number",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.entity.jobNumber,callback:function(e){t.$set(t.entity,"jobNumber",e)},expression:"entity.jobNumber"}}),s("q-input",{attrs:{outlined:"",label:"First Name",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.entity.firstName,callback:function(e){t.$set(t.entity,"firstName",e)},expression:"entity.firstName"}}),s("q-input",{attrs:{outlined:"",label:"Last Name",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.entity.lastName,callback:function(e){t.$set(t.entity,"lastName",e)},expression:"entity.lastName"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"schedule"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"timer"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}}),s("q-input",{attrs:{outlined:"",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"timer"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-time",{attrs:{mask:"hh:mm A"},model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}}),t.entity.photoIn.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo In("+t.entity.photoInSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoIn}})])]},proxy:!0}],null,!1,3539155053)}):t._e(),t.entity.photoOut.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo Out("+t.entity.photoOutSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoOut}})])]},proxy:!0}],null,!1,1089384484)}):t._e(),s("q-input",{attrs:{outlined:"",label:"Break1In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break1In,callback:function(e){t.$set(t.entity,"break1In",e)},expression:"entity.break1In"}}),s("q-input",{attrs:{outlined:"",label:"Break1Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break1Out,callback:function(e){t.$set(t.entity,"break1Out",e)},expression:"entity.break1Out"}}),s("q-input",{attrs:{outlined:"",label:"Break2In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break2In,callback:function(e){t.$set(t.entity,"break2In",e)},expression:"entity.break2In"}}),s("q-input",{attrs:{outlined:"",label:"Break2Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break2Out,callback:function(e){t.$set(t.entity,"break2Out",e)},expression:"entity.break2Out"}}),s("q-input",{attrs:{outlined:"",label:"Break3In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break3In,callback:function(e){t.$set(t.entity,"break3In",e)},expression:"entity.break3In"}}),s("q-input",{attrs:{outlined:"",label:"Break3Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break3Out,callback:function(e){t.$set(t.entity,"break3Out",e)},expression:"entity.break3Out"}}),s("q-btn",{staticClass:"full-width",attrs:{color:"red",icon:"delete",label:"Delete"},on:{click:t.onDelete}})],1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("fd30"),r=o["a"].extend({name:"RegionTimesheetDetail",data(){return{title:"Timesheet Detail",entity:{pk:"",dateTime:"",postIn:"",postOut:"",checkIn:"",checkOut:"",break1In:"",break1Out:"",break2In:"",break2Out:"",break3In:"",break3Out:"",firstName:"",lastName:"",jobNumber:"",photoIn:"",photoInSize:"",photoOut:"",photoOutSize:""}}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onBack(){this.$router.back()},onSave(){this.$q.loading.show(),n["a"].UpdateTimeSheet(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["RegionStore/GET_LIST"];if(e)if(t.data.isValid){for(let t=e.length-1;t>=0;t--)if(e[t].pk==this.entity.pk){e.splice(t,1);break}}else for(let s of e)if(s.pk==t.data.entity.pk){Object.assign(s,t.data.entity);break}this.$router.push({name:"RegionTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},onDelete(){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this item?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.loading.show(),n["a"].DeleteTimeSheet(this.entity.pk).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["RegionStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"RegionTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})}},mounted(){let t=this.$route.params.PK;this.$q.loading.show(),n["a"].GetTimeSheet(t).then(t=>{t.data.ok?this.entity=t.data.entity:this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}}),l=r,c=s("2877"),u=Object(c["a"])(l,i,a,!1,null,"4c583667",null);e["default"]=u.exports},"4fd3":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onDashboard}}),i("q-toolbar-title",[t._v(t._s(t.title))]),i("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:t.onAddNew}})],1)],1),i("q-dialog",{attrs:{persistent:""},model:{value:t.dlgUseEquipment.show,callback:function(e){t.$set(t.dlgUseEquipment,"show",e)},expression:"dlgUseEquipment.show"}},[i("q-card",[i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Comments")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{square:"",outlined:"",type:"textarea",dense:"",autofocus:"",rules:[function(t){return t&&t.length>0||"Please input comments"}]},model:{value:t.dlgUseEquipment.comments,callback:function(e){t.$set(t.dlgUseEquipment,"comments",e)},expression:"dlgUseEquipment.comments"}})],1),i("q-card-section",[i("div",{staticClass:"text-h6"},[t._v("Photo")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-field",{attrs:{square:"",outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline text-center cursor-pointer",on:{click:t.onTakePhoto}},[t.dlgUseEquipment.photo.length>0?i("img",{attrs:{src:"data:image/jpeg;base64,"+t.dlgUseEquipment.photo}}):i("img",{attrs:{src:s("c746")}})])]},proxy:!0}])})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),i("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.onSubmit}})],1)],1)],1),i("q-page-container",[i("q-page",[i("q-list",{attrs:{bordered:""}},t._l(t.list,(function(e,s){return i("q-item",{key:s,attrs:{clickable:""},on:{click:function(s){return t.onDetail(e.pk)}}},[i("q-item-section",[i("q-item-label",[i("q-icon",{attrs:{color:"primary",name:"business",size:"sm"}}),t._v("\n              "+t._s(e.jobNumber))],1),i("q-item-label",{attrs:{caption:""}},[i("q-icon",{attrs:{name:"devices"}}),t._v("\n              "+t._s(e.equipmentName+"("+e.serialNumb+") - "+e.statusName)+"\n            ")],1),i("q-item-label",{attrs:{caption:""}},[i("q-icon",{attrs:{name:"note"}}),t._v("\n              "+t._s(e.actionNotes)+"\n            ")],1)],1),i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{color:"primary",name:"more_horiz",size:"lg"}})],1)],1)})),1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("6368"),r=s("6ffb"),l=s("df98"),c=s("06d6"),u=o["a"].extend({name:"EquipmentRepairList",data(){return{title:"Equipment Repair",jobNumber:"",equipmentList:new Array,dlgUseEquipment:{equipmentPK:"",comments:"",photo:"",show:!1},list:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onDashboard(){this.$router.push({path:"/Dashboard"})},onDetail(t){this.$router.push({name:"EquipmentRepairDetail",params:{PK:t}})},onAddNew(){this.equipmentList.length>0?this.selectEquipment():(this.$q.loading.show(),c["a"].GetEquipmentList(this.jobNumber).then(t=>{this.$q.loading.hide(),t.data.ok?(this.equipmentList=t.data.result,0===this.equipmentList.length?this.showError("The equipments does not exist in the "+this.jobNumber):this.selectEquipment()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)}))},selectEquipment(){const t=new Array;for(let e of this.equipmentList)t.push({label:e.description,pk:e.pk,icon:"computer"});this.$q.bottomSheet({actions:t}).onOk(t=>{this.dlgUseEquipment.equipmentPK=t.pk,this.dlgUseEquipment.show=!0})},onTakePhoto(){n["a"].takePicture(t=>{this.dlgUseEquipment.photo=t})},onSubmit(){this.dlgUseEquipment.comments?(this.dlgUseEquipment.show=!1,this.$q.loading.show(),r["a"].Submit(this.dlgUseEquipment.equipmentPK,this.dlgUseEquipment.comments,this.dlgUseEquipment.photo).then(t=>{this.$q.loading.hide(),t.data.ok?this.list.push(t.data.entity):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})):this.showError("Please input comments")},getList(){this.$q.loading.show(),r["a"].GetPendingList().then(t=>{this.$q.loading.hide(),t.data.ok?(this.list=t.data.result,this.$store.commit("EquipmentRepairStore/SET_LIST",{list:this.list})):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})}},mounted(){const t=l["a"].load();this.jobNumber=t.searchJobNumber;const e=this.$store.getters["EquipmentRepairStore/GET_LIST"];e&&e.length>0?this.list=e:this.getList()}}),h=u,p=(s("0c43"),s("2877")),d=Object(p["a"])(h,i,a,!1,null,"73be0ecd",null);e["default"]=d.exports},"5c7e":function(t,e,s){},6368:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("b178");class a{static takePicture(t){i["b"].is.cordova?a.takePictureByCordova(t):i["b"].is.desktop?a.takePictureByDesktop(t):a.takePictureByMobile(t)}static showError(t){i["a"].create({title:"Error",message:t})}static takePictureByCordova(t){const e=navigator.camera;e?e.getPicture(t,()=>{},{quality:45,destinationType:0,sourceType:1,allowEdit:!0,encodingType:0,targetWidth:250,targetHeight:250}):a.showError("The camera does not exist in the cordova.")}static takePictureByDesktop(t){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*;capture=camera"),e.addEventListener("change",e=>{const s=e.currentTarget;if(!s||!s.files)return;const i=s.files[0];if(!i)return;const a=new FileReader;a.addEventListener("load",e=>{if(!e.target||!e.target.result)return;const s=e.target.result,i=document.createElement("canvas"),a=document.createElement("img");a.addEventListener("error",()=>{alert("Fail to load image(desktop).")}),a.addEventListener("load",()=>{const e=250;i.width=e,i.height=e;const s=i.getContext("2d");if(!s)return;let o,n;s.clearRect(0,0,e,e);let r=0,l=0;a.width>a.height?(o=Math.round(e*a.width/a.height),n=e,r=-Math.round((o-e)/2)):(n=Math.round(e*a.height/a.width),o=e,l=-Math.round((n-e)/2)),s.drawImage(a,r,l,o,n);const c=i.toDataURL("image/jpeg",.5),u=c.substr(23);t(u)},!1),a.setAttribute("src",s)}),a.readAsDataURL(i)}),e.click()}static takePictureByMobile(t){const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*;capture=camera"),e.addEventListener("change",e=>{const s=e.currentTarget;if(!s||!s.files)return;const i=s.files[0];if(!i)return;const a=document.createElement("img");a.addEventListener("error",()=>{alert("Fail to load image(mobile).")}),a.addEventListener("load",()=>{window.URL.revokeObjectURL(a.src);const e=document.createElement("canvas"),s=250;e.width=s,e.height=s;const i=e.getContext("2d");if(!i)return;let o,n;i.clearRect(0,0,s,s);let r=0,l=0;a.width>a.height?(o=Math.round(s*a.width/a.height),n=s,r=-Math.round((o-s)/2)):(n=Math.round(s*a.height/a.width),o=s,l=-Math.round((n-s)/2)),i.drawImage(a,r,l,o,n);const c=e.toDataURL("image/jpeg",.5),u=c.substr(23);t(u)},!1),a.setAttribute("src",window.URL.createObjectURL(i))}),e.click()}}},"6b4b":function(t,e,s){"use strict";var i=s("30f16"),a=s.n(i);a.a},"6ffb":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static GetByPK(t){const e={pk:t};return i["a"].post("BizEquipmentRepair_GetByPK",e)}static GetPendingList(){const t={};return i["a"].post("BizEquipmentRepair_GetPendingList",t)}static Pickup(t,e,s){const a={pk:t,comments:e,photo:s};return i["a"].post("BizEquipmentRepair_Pickup",a)}static Returned(t,e,s){const a={pk:t,comments:e,photo:s};return i["a"].post("BizEquipmentRepair_Returned",a)}static Submit(t,e,s){const a={equipmentPK:t,comments:e,photo:s};return i["a"].post("BizEquipmentRepair_Submit",a)}}},7498:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),s("q-toolbar-title",[t._v(t._s(t.setting.fullName))]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:t.onAddNew}})],1)],1),s("q-drawer",{ref:"drawer",attrs:{dark:"","show-if-above":"",bordered:""},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[s("q-list",[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:t.onLogout}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"person"}})],1),s("q-item-section",[s("q-item-label",[t._v("Logout")])],1)],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.dlgJobNumber.show,callback:function(e){t.$set(t.dlgJobNumber,"show",e)},expression:"dlgJobNumber.show"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Job Number")])]),s("q-card-section",{staticClass:"q-pt-none"},[s("q-input",{attrs:{dense:"",autofocus:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.dlgJobNumber.jobNumber,callback:function(e){t.$set(t.dlgJobNumber,"jobNumber",e)},expression:"dlgJobNumber.jobNumber"}})],1),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK"},on:{click:t.onJobNumber}})],1)],1)],1),s("q-page-container",[s("q-page",[s("q-list",{attrs:{bordered:""}},t._l(t.list,(function(e,i){return s("q-item",{key:i},[s("q-item-section",{on:{click:function(s){return t.onDetail(e.pk)}}},[s("q-item-label",[s("q-icon",{attrs:{name:"today"}}),t._v("\n              "+t._s(e.dateTime)+"\n              "),s("q-icon",{attrs:{name:"business"}}),t._v("\n              "+t._s(e.jobNumber)+"\n            ")],1),s("q-item-label",{attrs:{caption:""}},[s("q-icon",{attrs:{name:"schedule"}}),t._v("\n              "+t._s(e.postIn+" - "+e.postOut))],1),s("q-item-label",{attrs:{caption:""}},[s("q-icon",{attrs:{name:"timer"}}),t._v("\n              "+t._s(e.checkIn+" - "+e.checkOut))],1)],1),s("q-item-section",{attrs:{avatar:""}},[s("div",[s("q-icon",{attrs:{name:"access_time",size:"xl"},on:{click:function(e){return t.onCheckInOut(i)}}}),s("q-icon",{attrs:{name:t.getBreakIcon(e.isBreakOut),size:"xl"},on:{click:function(e){return t.OnBreak(i)}}}),s("q-icon",{attrs:{name:t.getStatusIcon(e.status),size:"xl"},on:{click:function(e){return t.onStatus(i)}}})],1)])],1)})),1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("6368"),r=s("c537"),l=s("06d6"),c=s("df98"),u=o["a"].extend({name:"EmployeeTimesheetList",data(){return{leftDrawerOpen:!1,setting:new c["a"],dlgJobNumber:{show:!1,jobNumber:""},watchGPSID:0,list:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onLogout(){sessionStorage.clear(),localStorage.clear(),this.$router.push({name:"Login"})},onAddNew(){n["a"].takePicture(t=>{this.$store.commit("EmployeeStore/SET_PHOTO",{photo:t}),this.dlgJobNumber.show=!0})},onJobNumber(){this.dlgJobNumber.jobNumber&&(this.$q.loading.show(),this.getGPSPosition((t,e)=>{l["a"].IsInJobSite(this.dlgJobNumber.jobNumber,t,e).then(t=>{this.$q.loading.hide(),t.data.ok?this.$router.push({name:"EmployeeTimesheetDetail",params:{PK:"0",EmployeePK:this.setting.employeePK,JobNumber:this.dlgJobNumber.jobNumber}}):this.showError("You are not near by the job site.")}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}))},onDetail(t){this.$router.push({name:"EmployeeTimesheetDetail",params:{PK:t}})},getList(){this.$q.loading.show(),r["a"].GetTimeSheetList(this.setting.employeePK,this.setting.currentTime,this.setting.maxDateTime).then(t=>{this.$q.loading.hide(),t.data.ok?(this.list=t.data.list,this.$store.commit("EmployeeStore/SET_LIST",{list:this.list})):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},getStatusIcon(t){switch(t){case"Empty":return"schedule";case"Work":return"work";case"Sick":return"local_hospital";case"Vacation":return"local_airport";case"Absent":return"work_off";case"Terminate":return"block";default:return"schedule"}},getBreakIcon(t){return t?"local_cafe":"computer"},onCheckInOut(t){n["a"].takePicture(e=>{let s=this.list[t];this.$q.loading.show(),this.getGPSPosition((i,a)=>{l["a"].IsInJobSite(s.jobNumber,i,a).then(s=>{this.$q.loading.hide(),s.data.ok?this.checkInOut(t,e):this.showError("You are not near by the job site.")}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})})},getGPSPosition(t){try{this.watchGPSID=navigator.geolocation.watchPosition(e=>{this.$q.platform.is.ios&&e.coords.accuracy>30||(navigator.geolocation.clearWatch(this.watchGPSID),t(e.coords.latitude,e.coords.longitude))},t=>{this.$q.loading.hide(),this.showError("The location service must be enabled.("+t.message+")")},{maximumAge:6e4,timeout:3e4,enableHighAccuracy:!0})}catch(e){this.showError(e.message)}},checkInOut(t,e){this.$q.loading.show();let s=this.list[t];r["a"].Clock(s.pk,e).then(t=>{if(t.data.ok){let e=t.data.entity;Object.assign(s,e)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},OnBreak(t){let e=this.list[t];this.$q.loading.show(),r["a"].Break(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},onStatus(t){let e=this.list[t];const s=new Array;switch(s.push({label:"Mark As Sick",icon:"local_hospital",method:this.markAsSick,index:t}),s.push({label:"Mark As Vacation",icon:"local_airport",method:this.markAsVacation,index:t}),s.push({label:"Mark As Work",icon:"work",method:this.markAsWork,index:t}),s.push({label:"Mark As Absent",icon:"work_off",method:this.markAsAbsent,index:t}),e.status){case"Work":s.splice(2,1);break;case"Sick":s.splice(0,1);break;case"Vacation":s.splice(1,1);break;case"Absent":s.splice(3,1);break}this.$q.bottomSheet({actions:s}).onOk(t=>{t.method(t.index)})},markAsSick(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsSick(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsVacation(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsVacation(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsWork(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsWork(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsAbsent(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsAbsent(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}},mounted(){this.setting=c["a"].load();const t=this.$store.getters["EmployeeStore/GET_LIST"];t&&t.length>0?this.list=t:this.getList()}}),h=u,p=s("2877"),d=Object(p["a"])(h,i,a,!1,null,"3e79344e",null);e["default"]=d.exports},"93e6":function(t,e,s){"use strict";var i=s("f4b6"),a=s.n(i);a.a},"9b0b":function(t,e,s){"use strict";var i=s("9cb3"),a=s.n(i);a.a},"9cb3":function(t,e,s){},"9d8e":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"navigate_before"},on:{click:t.onBack}}),s("q-toolbar-title",[t._v(t._s(t.title))]),s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"done"},on:{click:t.onSave}})],1)],1),s("q-page-container",[s("q-page",[s("q-form",{ref:"frmTimesheet"},[s("q-input",{attrs:{outlined:"",label:"DateTime",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"today"}})]},proxy:!0}]),model:{value:t.entity.dateTime,callback:function(e){t.$set(t.entity,"dateTime",e)},expression:"entity.dateTime"}}),s("q-input",{attrs:{outlined:"",autofocus:"",label:"Job#",rules:[function(t){return t&&t.length>0||"Please input job number"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.entity.jobNumber,callback:function(e){t.$set(t.entity,"jobNumber",e)},expression:"entity.jobNumber"}}),s("q-input",{attrs:{outlined:"",label:"PostIn",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"schedule"}})]},proxy:!0}]),model:{value:t.entity.postIn,callback:function(e){t.$set(t.entity,"postIn",e)},expression:"entity.postIn"}}),s("q-input",{attrs:{outlined:"",label:"PostOut",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"schedule"}})]},proxy:!0}]),model:{value:t.entity.postOut,callback:function(e){t.$set(t.entity,"postOut",e)},expression:"entity.postOut"}}),s("q-input",{attrs:{outlined:"",label:"CheckIn",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"timer"}})]},proxy:!0}]),model:{value:t.entity.checkIn,callback:function(e){t.$set(t.entity,"checkIn",e)},expression:"entity.checkIn"}}),s("q-input",{attrs:{outlined:"",label:"CheckOut",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"timer"}})]},proxy:!0}]),model:{value:t.entity.checkOut,callback:function(e){t.$set(t.entity,"checkOut",e)},expression:"entity.checkOut"}}),t.entity.photoIn.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo In("+t.entity.photoInSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoIn}})])]},proxy:!0}],null,!1,3539155053)}):t._e(),t.entity.photoOut.length>0?s("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[s("div",{staticClass:"self-center full-width no-outline text-center"},[s("p",[t._v(t._s("Photo Out("+t.entity.photoOutSize+")"))]),s("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photoOut}})])]},proxy:!0}],null,!1,1089384484)}):t._e(),s("q-input",{attrs:{outlined:"",label:"Break1In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break1In,callback:function(e){t.$set(t.entity,"break1In",e)},expression:"entity.break1In"}}),s("q-input",{attrs:{outlined:"",label:"Break1Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break1Out,callback:function(e){t.$set(t.entity,"break1Out",e)},expression:"entity.break1Out"}}),s("q-input",{attrs:{outlined:"",label:"Break2In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break2In,callback:function(e){t.$set(t.entity,"break2In",e)},expression:"entity.break2In"}}),s("q-input",{attrs:{outlined:"",label:"Break2Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break2Out,callback:function(e){t.$set(t.entity,"break2Out",e)},expression:"entity.break2Out"}}),s("q-input",{attrs:{outlined:"",label:"Break3In",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"local_cafe"}})]},proxy:!0}]),model:{value:t.entity.break3In,callback:function(e){t.$set(t.entity,"break3In",e)},expression:"entity.break3In"}}),s("q-input",{attrs:{outlined:"",label:"Break3Out",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"computer"}})]},proxy:!0}]),model:{value:t.entity.break3Out,callback:function(e){t.$set(t.entity,"break3Out",e)},expression:"entity.break3Out"}}),t.isNew?t._e():s("q-btn",{staticClass:"full-width",attrs:{color:"red",icon:"delete",label:"Delete"},on:{click:t.onDelete}})],1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("c537"),r=o["a"].extend({name:"EmployeeTimesheetDetail",data(){return{title:"Timesheet Detail",isNew:!1,entity:{pk:"",dateTime:"",postIn:"",postOut:"",checkIn:"",checkOut:"",break1In:"",break1Out:"",break2In:"",break2Out:"",break3In:"",break3Out:"",employeePK:"",jobNumber:"",photoIn:"",photoInSize:"",photoOut:"",photoOutSize:""}}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onBack(){this.$router.back()},onSave(){const t=this.$refs.frmTimesheet;t.validate(!0).then(t=>{t&&this.save()})},save(){this.isNew?(this.$q.loading.show(),n["a"].InsertTimeSheet(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["EmployeeStore/GET_LIST"];e&&e.push(t.data.entity),this.$router.push({name:"EmployeeTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.show()})):(this.$q.loading.show(),n["a"].UpdateTimeSheet(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["EmployeeStore/GET_LIST"];if(e)for(let s of e)if(s.pk==t.data.entity.pk){Object.assign(s,t.data.entity);break}this.$router.push({name:"EmployeeTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()}))},onDelete(){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this item?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.loading.show(),n["a"].DeleteTimeSheet(this.entity.pk).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["EmployeeStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"EmployeeTimesheetList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})}},mounted(){let t=this.$route.params.PK;if(this.isNew=!t||"0"==t,this.isNew){const t=this.$route.params.EmployeePK,e=this.$route.params.JobNumber;this.$q.loading.show(),n["a"].CreateTimeSheet(t).then(t=>{t.data.ok?(this.entity=t.data.entity,this.entity.jobNumber=e,this.entity.photoIn=this.$store.getters["EmployeeStore/GET_PHOTO"],this.$store.commit("EmployeeStore/SET_PHOTO",{photo:""}),this.entity.photoInSize="6k"):this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}else this.$q.loading.show(),n["a"].GetTimeSheet(t).then(t=>{t.data.ok?this.entity=t.data.entity:this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}}),l=r,c=s("2877"),u=Object(c["a"])(l,i,a,!1,null,"4a6a769c",null);e["default"]=u.exports},"9fff":function(t,e,s){},a6a0:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onDashboard}}),s("q-toolbar-title",[t._v(t._s(t.title))]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:t.onAddNew}})],1)],1),s("q-footer",{attrs:{elevated:""}},[s("q-toolbar",{staticClass:"row justify-around"},[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"email"},on:{click:t.onEmailReport}})],1)],1),s("q-page-container",[s("q-page",[s("q-list",{attrs:{bordered:""}},t._l(t.list,(function(e,i){return s("q-item",{key:i},[s("q-item-section",{on:{click:function(s){return t.onDetail(e.pk)}}},[s("q-item-label",{staticClass:"bold-text"},[s("q-icon",{attrs:{name:"view_module"}}),t._v("\n              "+t._s(e.taskType))],1),s("q-item-label",{staticClass:"big-text",attrs:{caption:""}},[t._v("\n              "+t._s(e.description))])],1),s("q-item-section",{attrs:{avatar:""}},[s("div",[s("q-icon",{attrs:{name:"more_horiz"},on:{click:function(s){return t.onDetail(e.pk)}}})],1)])],1)})),1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("04bd"),r=s("06d6"),l=s("df98"),c=o["a"].extend({name:"NightReportList",data(){return{title:"Red Book",setting:new l["a"],list:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onDashboard(){this.$router.push({path:"/Dashboard"})},onAddNew(){const t=new Array;t.push({label:"Daily Task",icon:"add_circle",task:"Daily Task"}),t.push({label:"Periodic Task",icon:"add_circle",task:"Periodic Task"}),t.push({label:"Maintenance Support",icon:"add_circle",task:"Maintenance Support"}),t.push({label:"Action Breakage",icon:"add_circle",task:"Action Breakage"}),t.push({label:"Action DayPorter",icon:"add_circle",task:"Action DayPorter"}),this.$q.bottomSheet({actions:t}).onOk(t=>{this.$router.push({name:"NightReportDetail",params:{PK:"0",JobNumber:this.setting.searchJobNumber,DateTime:this.setting.currentTime,TaskType:t.task}})})},onDetail(t){this.$router.push({name:"NightReportDetail",params:{PK:t}})},onEmailReport(){this.$q.loading.show(),n["a"].EmailNightReport(this.setting.searchJobNumber,this.setting.searchDateTime).then(t=>{this.$q.loading.hide(),t.data.ok?this.$q.dialog({title:"Success",message:"Email night report finished successfully."}):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},getList(t,e,s){t&&e&&s&&(this.$q.loading.show(),n["a"].GetList(t,e,s).then(t=>{this.$q.loading.hide(),t.data.ok?(this.list=t.data.list,this.$store.commit("NightReportStore/SET_LIST",{list:this.list})):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)}))},getLookup(){this.$q.loading.show(),r["a"].GetLookupList("Red Book").then(t=>{this.$q.loading.hide(),t.data.ok?this.$store.commit("NightReportStore/SET_LOOKUP",{lookup:t.data.result}):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})}},mounted(){this.setting=l["a"].load();const t=this.$store.getters["NightReportStore/GET_LIST"];t&&t.length>0?this.list=t:this.getList(this.setting.searchJobNumber,this.setting.searchDateTime,this.setting.searchDateTime),this.getLookup()}}),u=c,h=(s("d10e"),s("2877")),p=Object(h["a"])(u,i,a,!1,null,"57674482",null);e["default"]=p.exports},a9d2:function(t,e,s){},b157:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static Break(t){const e={pk:t};return i["a"].post("BizJob_Break",e)}static Clock(t,e){const s={pk:t,photo:e};return i["a"].post("BizJob_Clock",s)}static CreateTimeSheet(t,e){const s={jobNumber:t,day:e};return i["a"].post("BizJob_CreateTimeSheet",s)}static DeleteTimeSheet(t){const e={pk:t};return i["a"].post("BizJob_DeleteTimeSheet",e)}static GetTimeSheet(t){const e={pk:t};return i["a"].post("BizJob_GetTimeSheet",e)}static GetTimeSheetList(t,e){const s={jobNumber:t,day:e};return i["a"].post("BizJob_GetTimeSheetList",s)}static InsertTimeSheet(t){return i["a"].post("BizJob_InsertTimeSheet",t)}static MarkAsAbsent(t){const e={pk:t};return i["a"].post("BizJob_MarkAsAbsent",e)}static MarkAsSick(t){const e={pk:t};return i["a"].post("BizJob_MarkAsSick",e)}static MarkAsTerminate(t){return i["a"].post("BizJob_MarkAsTerminate",t)}static MarkAsVacation(t){const e={pk:t};return i["a"].post("BizJob_MarkAsVacation",e)}static MarkAsWork(t){const e={pk:t};return i["a"].post("BizJob_MarkAsWork",e)}static UpdateTimeSheet(t){return i["a"].post("BizJob_UpdateTimeSheet",t)}}},b47d:function(t,e,s){},b52c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onDashboard}}),s("q-toolbar-title",[t._v(t._s(t.title))]),s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:t.onAddNew}})],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.dlgTerminate.show,callback:function(e){t.$set(t.dlgTerminate,"show",e)},expression:"dlgTerminate.show"}},[s("q-card",[s("q-input",{attrs:{outlined:"",label:"Effective Date",filled:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{options:t.onCheckEffectiveDateRange,mask:"MM/DD/YYYY"},model:{value:t.dlgTerminate.effectiveDate,callback:function(e){t.$set(t.dlgTerminate,"effectiveDate",e)},expression:"dlgTerminate.effectiveDate"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.dlgTerminate.effectiveDate,callback:function(e){t.$set(t.dlgTerminate,"effectiveDate",e)},expression:"dlgTerminate.effectiveDate"}}),s("q-toggle",{attrs:{outlined:"",label:" Eligible for Rehire"},model:{value:t.dlgTerminate.eligibleForRehire,callback:function(e){t.$set(t.dlgTerminate,"eligibleForRehire",e)},expression:"dlgTerminate.eligibleForRehire"}}),s("q-input",{attrs:{outlined:"",label:"Reason",readonly:"",rules:[function(t){return t&&t.length>0||"Please select a reason"}]},on:{click:t.onSelectTerminateReason},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"more_horiz"},on:{click:t.onSelectTerminateReason}})]},proxy:!0}]),model:{value:t.dlgTerminate.reason,callback:function(e){t.$set(t.dlgTerminate,"reason",e)},expression:"dlgTerminate.reason"}}),s("q-input",{attrs:{outlined:"",label:"Explanation"},model:{value:t.dlgTerminate.explanation,callback:function(e){t.$set(t.dlgTerminate,"explanation",e)},expression:"dlgTerminate.explanation"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),s("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.onTerminateSubmit}})],1)],1),s("q-page-container",[s("q-page",[s("q-list",{attrs:{bordered:""}},t._l(t.list,(function(e,i){return s("q-item",{key:i},[s("q-item-section",{on:{click:function(s){return t.onDetail(e.pk)}}},[s("q-item-label",{staticClass:"bold-text"},[s("q-icon",{attrs:{name:"person"}}),t._v("\n              "+t._s(e.firstName+" "+e.lastName))],1),s("q-item-label",{staticClass:"big-text",attrs:{caption:""}},[s("q-icon",{attrs:{name:"schedule"}}),t._v("\n              "+t._s(e.postIn+" - "+e.postOut))],1),s("q-item-label",{staticClass:"big-text",attrs:{caption:""}},[s("q-icon",{attrs:{name:"timer"}}),t._v("\n              "+t._s(e.checkIn+" - "+e.checkOut))],1)],1),s("q-item-section",{attrs:{avatar:""}},[s("div",[s("q-icon",{attrs:{color:"primary",name:"access_time",size:"xl"},on:{click:function(e){return t.onCheckInOut(i)}}}),s("q-icon",{attrs:{color:"primary",name:t.getBreakIcon(e.isBreakOut),size:"xl"},on:{click:function(e){return t.OnBreak(i)}}}),s("q-icon",{attrs:{color:"primary",name:t.getStatusIcon(e.status),size:"xl"},on:{click:function(e){return t.onStatus(i)}}})],1)])],1)})),1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("6368"),r=s("b157"),l=s("df98"),c=s("06d6"),u=o["a"].extend({name:"JobTimesheetList",data(){return{title:"Job Timesheet",setting:new l["a"],isRegionManager:!1,dlgTerminate:{show:!1,index:0,effectiveDate:"",eligibleForRehire:!1,reason:"",explanation:""},watchGPSID:0,list:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onDashboard(){this.$router.push({path:"/Dashboard"})},onCheckEffectiveDateRange(t){return t>=this.setting.currentTime},onSelectTerminateReason(){const t=new Array;t.push({label:"Accepted Other Work"}),t.push({label:"Dissatisfied With Job"}),t.push({label:"Moved/No Transportation"}),t.push({label:"Medical Condition"}),t.push({label:"Failed to Return from Leave"}),t.push({label:"Failed to Show or Call"}),t.push({label:"Did Not Give Reason"}),t.push({label:"Insufficient Work"}),t.push({label:"Other (Use Explanation Area)"}),t.push({label:"Refused To Follow Directions"}),t.push({label:"Excessive Absenteeism"}),t.push({label:"Excessive Lateness"}),t.push({label:"Dishonesty (Use Explanation Area)"}),t.push({label:"Discourteous To Customer(s)"}),t.push({label:"Drinking/Drugs On Job"}),t.push({label:"Improper Conduct (Use Explanation Area)"}),t.push({label:"Unsatisfactory Performance"}),t.push({label:"Required By Law"}),t.push({label:"Personal Reasons"}),t.push({label:"Never Worked"}),this.$q.bottomSheet({actions:t}).onOk(t=>{this.dlgTerminate.reason=t.label})},onAddNew(){this.$router.push({name:"JobTimesheetDetail",params:{PK:"0",JobNumber:this.setting.searchJobNumber,DateTime:this.setting.searchDateTime}})},onDetail(t){this.$router.push({name:"JobTimesheetDetail",params:{PK:t}})},onCheckDateRange(t){return t>=this.setting.minDateTime&&t<=this.setting.maxDateTime},getList(t,e){t&&e&&(this.$q.loading.show(),r["a"].GetTimeSheetList(t,e).then(t=>{this.$q.loading.hide(),t.data.ok?(this.list=t.data.list,this.$store.commit("JobStore/SET_LIST",{list:this.list})):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)}))},getStatusIcon(t){switch(t){case"Empty":return"schedule";case"Work":return"done";case"Sick":return"local_hospital";case"Vacation":return"local_airport";case"Absent":return"help_outline";case"Terminate":return"clear";default:return"schedule"}},getBreakIcon(t){return t?"local_cafe":"person"},onCheckInOut(t){n["a"].takePicture(e=>{let s=this.setting.searchJobNumber;this.$q.loading.show(),this.getGPSPosition((i,a)=>{c["a"].IsInJobSite(s,i,a).then(s=>{this.$q.loading.hide(),s.data.ok?this.checkInOut(t,e):this.showError("You are not near by the job site.")}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})})},getGPSPosition(t){try{this.watchGPSID=navigator.geolocation.watchPosition(e=>{this.$q.platform.is.ios&&e.coords.accuracy>30||(navigator.geolocation.clearWatch(this.watchGPSID),t(e.coords.latitude,e.coords.longitude))},t=>{this.$q.loading.hide(),this.showError("The location service must be enabled.("+t.message+")")},{maximumAge:6e4,timeout:3e4,enableHighAccuracy:!0})}catch(e){this.showError(e.message)}},checkInOut(t,e){this.$q.loading.show();let s=this.list[t];r["a"].Clock(s.pk,e).then(t=>{if(t.data.ok){let e=t.data.entity;Object.assign(s,e)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},OnBreak(t){let e=this.list[t];this.$q.loading.show(),r["a"].Break(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},onStatus(t){let e=this.list[t];const s=new Array;switch(s.push({label:"Mark As Sick",icon:"local_hospital",method:this.markAsSick,index:t}),s.push({label:"Mark As Vacation",icon:"local_airport",method:this.markAsVacation,index:t}),s.push({label:"Mark As Work",icon:"done",method:this.markAsWork,index:t}),s.push({label:"Mark As Absent",icon:"help_outline",method:this.markAsAbsent,index:t}),this.isRegionManager&&s.push({label:"Mark As Terminate",icon:"clear",method:this.markAsTerminate,index:t}),e.status){case"Work":s.splice(2,1);break;case"Sick":s.splice(0,1);break;case"Vacation":s.splice(1,1);break;case"Absent":s.splice(3,1);break;case"Terminate":this.isRegionManager&&s.splice(4,1);break}this.$q.bottomSheet({actions:s}).onOk(t=>{t.method(t.index)})},markAsSick(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsSick(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsVacation(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsVacation(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsWork(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsWork(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsAbsent(t){this.$q.loading.show();let e=this.list[t];r["a"].MarkAsAbsent(e.pk).then(t=>{if(t.data.ok){let s=t.data.entity;Object.assign(e,s)}else this.showError(t.data.message);this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})},markAsTerminate(t){this.dlgTerminate.index=t,this.dlgTerminate.effectiveDate=this.setting.currentTime,this.dlgTerminate.show=!0},onTerminateSubmit(){if(0===this.dlgTerminate.reason.length)return void this.showError("Please select a reason for the termination.");let t=this.list[this.dlgTerminate.index];this.$q.loading.show(),r["a"].MarkAsTerminate({pk:t.pk,effectiveDate:this.dlgTerminate.effectiveDate,eligibleForRehire:this.dlgTerminate.eligibleForRehire,reason:this.dlgTerminate.reason,explanation:this.dlgTerminate.explanation}).then(e=>{if(e.data.ok){let s=e.data.entity;Object.assign(t,s)}else this.showError(e.data.message);this.$q.loading.hide(),this.dlgTerminate.show=!1}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}},mounted(){this.setting=l["a"].load(),(this.setting.isCompanyManager||this.setting.isDivisionManager||this.setting.isRegionManager)&&(this.isRegionManager=!0);const t=this.$store.getters["JobStore/GET_LIST"];t&&t.length>0?this.list=t:this.getList(this.setting.searchJobNumber,this.setting.searchDateTime)}}),h=u,p=(s("9b0b"),s("2877")),d=Object(p["a"])(h,i,a,!1,null,"5240041f",null);e["default"]=d.exports},b59b:function(t,e,s){"use strict";var i=s("5c7e"),a=s.n(i);a.a},b62b:function(t,e,s){},c537:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static Break(t){const e={pk:t};return i["a"].post("BizEmployee_Break",e)}static Clock(t,e){const s={pk:t,photo:e};return i["a"].post("BizEmployee_Clock",s)}static CreateTimeSheet(t){const e={employeePK:t};return i["a"].post("BizEmployee_CreateTimeSheet",e)}static DeleteTimeSheet(t){const e={pk:t};return i["a"].post("BizEmployee_DeleteTimeSheet",e)}static GetTimeSheet(t){const e={pk:t};return i["a"].post("BizEmployee_GetTimeSheet",e)}static GetTimeSheetList(t,e,s){const a={employeePK:t,begin:e,end:s};return i["a"].post("BizEmployee_GetTimeSheetList",a)}static InsertTimeSheet(t){return i["a"].post("BizEmployee_InsertTimeSheet",t)}static MarkAsAbsent(t){const e={pk:t};return i["a"].post("BizEmployee_MarkAsAbsent",e)}static MarkAsSick(t){const e={pk:t};return i["a"].post("BizEmployee_MarkAsSick",e)}static MarkAsTerminate(t){return i["a"].post("BizEmployee_MarkAsTerminate",t)}static MarkAsVacation(t){const e={pk:t};return i["a"].post("BizEmployee_MarkAsVacation",e)}static MarkAsWork(t){const e={pk:t};return i["a"].post("BizEmployee_MarkAsWork",e)}static UpdateTimeSheet(t){return i["a"].post("BizEmployee_UpdateTimeSheet",t)}}},c746:function(t,e){t.exports="data:image/png;base64,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"},c74e:function(t,e,s){},d10e:function(t,e,s){"use strict";var i=s("9fff"),a=s.n(i);a.a},d423:function(t,e,s){"use strict";var i=s("b62b"),a=s.n(i);a.a},df98:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(){this.isEmployee=!1,this.employeePK="",this.accountPK="",this.fullName="",this.currentTime="",this.minDateTime="",this.maxDateTime="",this.isCompanyManager=!1,this.isDivisionManager=!1,this.isRegionManager=!1,this.isJobManager=!1,this.searchJobNumber="",this.searchDateTime="",this.searchRegionPK="",this.searchRegionName=""}static save(t){sessionStorage.setItem("BOETA_RCHub_userSettings",JSON.stringify(t))}static load(){const t=sessionStorage.getItem("BOETA_RCHub_userSettings")||"";return t?JSON.parse(t):new i}}},e861:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-header",{attrs:{elevated:""}},[i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_backspace"},on:{click:t.onBack}}),i("q-toolbar-title",[t._v(t._s(t.title))]),t.isNew||t.canUpdate?i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"done"},on:{click:t.onSave}}):t._e()],1)],1),i("q-page-container",[i("q-page",[i("q-form",{ref:"frmNightReport"},[i("q-input",{attrs:{outlined:"",label:"DateTime",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"today"}})]},proxy:!0}]),model:{value:t.entity.dateTime,callback:function(e){t.$set(t.entity,"dateTime",e)},expression:"entity.dateTime"}}),i("q-input",{attrs:{outlined:"",label:"Job Number",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"business"}})]},proxy:!0}]),model:{value:t.entity.jobNumber,callback:function(e){t.$set(t.entity,"jobNumber",e)},expression:"entity.jobNumber"}}),i("q-input",{attrs:{outlined:"",label:"Task Type",readonly:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"view_module"}})]},proxy:!0}]),model:{value:t.entity.taskType,callback:function(e){t.$set(t.entity,"taskType",e)},expression:"entity.taskType"}}),i("q-input",{attrs:{outlined:"",label:"Floor",readonly:""},on:{click:t.selectFloor},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"layers"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectFloor}})]},proxy:!0}]),model:{value:t.entity.floor,callback:function(e){t.$set(t.entity,"floor",e)},expression:"entity.floor"}}),t.isNew||t.canUpdate?i("q-input",{attrs:{outlined:"",label:"Suite"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"room"}})]},proxy:!0}],null,!1,78970291),model:{value:t.entity.suite,callback:function(e){t.$set(t.entity,"suite",e)},expression:"entity.suite"}}):i("q-input",{attrs:{outlined:"",readonly:"",label:"Suite"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"room"}})]},proxy:!0}]),model:{value:t.entity.suite,callback:function(e){t.$set(t.entity,"suite",e)},expression:"entity.suite"}}),i("q-input",{attrs:{outlined:"",label:t.isActionDayPorter?"Restroom":"Area",readonly:""},on:{click:t.selectArea},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"trip_origin"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectArea}})]},proxy:!0}]),model:{value:t.entity.area,callback:function(e){t.$set(t.entity,"area",e)},expression:"entity.area"}}),i("q-input",{attrs:{outlined:"",label:t.getTaskTitle(),readonly:""},on:{click:t.selectTaskAction},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"play_arrow"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectTaskAction}})]},proxy:!0}]),model:{value:t.entity.taskAction,callback:function(e){t.$set(t.entity,"taskAction",e)},expression:"entity.taskAction"}}),t.isActionBreakage?i("q-input",{attrs:{outlined:"",label:"Broken Item",readonly:""},on:{click:t.selectBrokenItem},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"donut_large"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectBrokenItem}})]},proxy:!0}],null,!1,2634972178),model:{value:t.entity.brokenItem,callback:function(e){t.$set(t.entity,"brokenItem",e)},expression:"entity.brokenItem"}}):t._e(),i("q-input",{attrs:{outlined:"",label:t.getStatusTitle(),readonly:""},on:{click:t.selectStatus},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"flag"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectStatus}})]},proxy:!0}]),model:{value:t.entity.status,callback:function(e){t.$set(t.entity,"status",e)},expression:"entity.status"}}),t.isDailyTask||t.isPeriodicTask?i("q-input",{attrs:{outlined:"",label:"Reason",readonly:""},on:{click:t.selectReason},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"message"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"more_horiz"},on:{click:t.selectReason}})]},proxy:!0}],null,!1,3255351089),model:{value:t.entity.reason,callback:function(e){t.$set(t.entity,"reason",e)},expression:"entity.reason"}}):t._e(),t.isNew||t.canUpdate?i("q-input",{attrs:{outlined:"",label:"Notes",type:"textarea"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"note"}})]},proxy:!0}],null,!1,1789059292),model:{value:t.entity.notes,callback:function(e){t.$set(t.entity,"notes",e)},expression:"entity.notes"}}):i("q-input",{attrs:{outlined:"",readonly:"",label:"Notes",type:"textarea"},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"message"}})]},proxy:!0}]),model:{value:t.entity.notes,callback:function(e){t.$set(t.entity,"notes",e)},expression:"entity.notes"}}),i("q-field",{staticClass:"text-center",attrs:{outlined:"",readonly:""},scopedSlots:t._u([{key:"control",fn:function(){return[i("div",{staticClass:"self-center full-width no-outline text-center cursor-pointer",on:{click:t.onTakePhoto}},[t.entity.photo.length>0?i("img",{attrs:{src:"data:image/jpeg;base64,"+t.entity.photo}}):i("img",{attrs:{src:s("c746")}})])]},proxy:!0}])}),i("br"),i("br"),!t.isNew&&t.canUpdate?i("q-btn",{staticClass:"full-width fixed-bottom",attrs:{color:"red",icon:"delete",label:"Delete"},on:{click:t.onDelete}}):t._e(),!t.isNew&&t.canUpdate?i("q-btn",{staticClass:"full-width fixed-bottom",attrs:{color:"primary",icon:"near_me",label:"Approve"},on:{click:t.onApprove}}):t._e()],1)],1)],1)],1)},a=[],o=s("2b0e"),n=s("6368"),r=s("04bd"),l=o["a"].extend({name:"NightReportDetail",data(){return{title:"Night Report Detail",isNew:!1,canUpdate:!0,entity:{pk:"",jobNumber:"",dateTime:"",taskType:"",floor:"",suite:"",area:"",taskAction:"",status:"",reason:"",brokenItem:"",notes:"",photo:"",photoSize:""},isDailyTask:!1,isPeriodicTask:!1,isMaintenanceSupport:!1,isActionBreakage:!1,isActionDayPorter:!1,floorOptions:new Array,areaOptions:new Array,taskActionOptions:new Array,brokenItemOptions:new Array,statusOptions:new Array,reasonOptions:new Array}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onBack(){this.$router.back()},getTaskTitle(){return this.isDailyTask?"Task":this.isPeriodicTask?"Periodic Task":this.isMaintenanceSupport?"Maintenance Support":this.isActionBreakage?"Action":this.isActionDayPorter?"Action":"Task"},getStatusTitle(){return this.isDailyTask?"Complete Status":this.isPeriodicTask?"Complete Status":this.isMaintenanceSupport?"Notification":this.isActionBreakage?"Notification":this.isActionDayPorter?"Completed Items":"Status"},onSave(){const t=this.$refs.frmNightReport;t.validate(!0).then(t=>{t&&this.save()})},save(){this.isNew?(this.$q.loading.show(),r["a"].Insert(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["NightReportStore/GET_LIST"];e&&e.splice(0,0,t.data.entity),this.$router.push({name:"NightReportList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.show()})):(this.$q.loading.show(),r["a"].Update(this.entity).then(t=>{if(this.$q.loading.hide(),t.data.ok){const e=this.$store.getters["NightReportStore/GET_LIST"];if(e)for(let s of e)if(s.pk==t.data.entity.pk){Object.assign(s,t.data.entity);break}this.$router.push({name:"NightReportList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()}))},onDelete(){this.$q.dialog({title:"Confirm",message:"Are you sure to delete this item?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.loading.show(),r["a"].Delete(this.entity.pk).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["NightReportStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"NightReportList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})},onTakePhoto(){(this.isNew||this.canUpdate)&&n["a"].takePicture(t=>{this.entity.photo=t,this.entity.photoSize="6k"})},onApprove(){this.$q.dialog({title:"Confirm",message:"Are you sure to approve this item?",cancel:!0,persistent:!0}).onOk(()=>{this.$q.loading.show(),r["a"].Approve(this.entity.pk).then(t=>{if(this.$q.loading.hide(),t.data.ok){const t=this.$store.getters["NightReportStore/GET_LIST"];if(t)for(let e=t.length-1;e>=0;e--)if(t[e].pk==this.entity.pk){t.splice(e,1);break}this.$router.push({name:"NightReportList"})}else this.showError(t.data.message)}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})})},selectFloor(){this.selectString(this.floorOptions,"layers",t=>{this.entity.floor=t})},selectArea(){this.selectString(this.areaOptions,"trip_origin",t=>{this.entity.area=t})},selectTaskAction(){this.selectString(this.taskActionOptions,"play_arrow",t=>{this.entity.taskAction=t})},selectBrokenItem(){this.selectString(this.brokenItemOptions,"donut_large",t=>{this.entity.brokenItem=t})},selectStatus(){this.selectString(this.statusOptions,"flag",t=>{this.entity.status=t})},selectReason(){this.selectString(this.reasonOptions,"message",t=>{this.entity.reason=t})},selectString(t,e,s){if(!this.isNew&&!this.canUpdate)return;const i=new Array;for(let a of t)i.push({label:a,icon:e});this.$q.bottomSheet({actions:i}).onOk(t=>{"other"===t.label.toLowerCase()?this.$q.dialog({title:"Notes",prompt:{model:t.label,type:"text"},cancel:!1,persistent:!0}).onOk(t=>{s(t)}):s(t.label)})},getTaskType(t){switch(t){case"Daily Task":this.isDailyTask=!0;break;case"Periodic Task":this.isPeriodicTask=!0;break;case"Maintenance Support":this.isMaintenanceSupport=!0;break;case"Action Breakage":this.isActionBreakage=!0;break;case"Action DayPorter":this.isActionDayPorter=!0;break}},getLookup(){const t=this.$store.getters["NightReportStore/GET_LOOKUP"];if(t)for(let e of t)this.isDailyTask?("Floor_Daily"===e.key&&this.floorOptions.push(e.value1),"Area"===e.key&&this.areaOptions.push(e.value1),"Task_Daily"===e.key&&this.taskActionOptions.push(e.value1),"Completed_Status"===e.key&&this.statusOptions.push(e.value1),"Reason"===e.key&&this.reasonOptions.push(e.value1)):this.isPeriodicTask?("Floor_Daily"===e.key&&this.floorOptions.push(e.value1),"Area"===e.key&&this.areaOptions.push(e.value1),"Task_Periodic"===e.key&&this.taskActionOptions.push(e.value1),"Completed_Status"===e.key&&this.statusOptions.push(e.value1),"Reason"===e.key&&this.reasonOptions.push(e.value1)):this.isMaintenanceSupport?("Floor_Daily"===e.key&&this.floorOptions.push(e.value1),"Area"===e.key&&this.areaOptions.push(e.value1),"Maintenance_Support"===e.key&&this.taskActionOptions.push(e.value1),"Notification"===e.key&&this.statusOptions.push(e.value1)):this.isActionBreakage?("Floor_Daily"===e.key&&this.floorOptions.push(e.value1),"Area"===e.key&&this.areaOptions.push(e.value1),"Action_Breakage"===e.key&&this.taskActionOptions.push(e.value1),"Broken_Item"===e.key&&this.brokenItemOptions.push(e.value1),"Notification"===e.key&&this.statusOptions.push(e.value1)):this.isActionDayPorter&&("Floor_DayPorter"===e.key&&this.floorOptions.push(e.value1),"Area"===e.key&&this.areaOptions.push(e.value1),"Action_DayPorter"===e.key&&this.taskActionOptions.push(e.value1),"Completed_Item"===e.key&&this.statusOptions.push(e.value1))}},mounted(){let t=this.$route.params.PK;if(this.isNew=!t||"0"==t,this.isNew){let t=this.$route.params.JobNumber,e=this.$route.params.DateTime,s=this.$route.params.TaskType;this.$q.loading.show(),r["a"].Create(t,e,s).then(t=>{t.data.ok?(this.entity=t.data.entity,this.getTaskType(s),this.getLookup()):this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}else this.$q.loading.show(),r["a"].GetByPK(t).then(t=>{t.data.ok?(this.entity=t.data.entity,this.getTaskType(this.entity.taskType),this.getLookup()):this.showError(t.data.message),this.$q.loading.hide()}).catch(t=>{this.showError(t.message),this.$q.loading.hide()})}}),c=l,u=(s("b59b"),s("2877")),h=Object(u["a"])(c,i,a,!1,null,"2b81da02",null);e["default"]=h.exports},ec95:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),s("q-toolbar-title",[t._v("Home")])],1)],1),s("q-drawer",{ref:"drawer",attrs:{dark:"","show-if-above":"",bordered:""},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[s("q-list",[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:t.onLogout}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"person"}})],1),s("q-item-section",[s("q-item-label",[t._v("Logout")])],1)],1)],1)],1),s("q-page-container",[s("q-page",{staticClass:"text-center"},[s("div",{staticClass:"q-col-gutter-md row items-start"},[s("q-form",{staticClass:"col-12"},[t.isRegionManager?s("q-input",{attrs:{outlined:"",label:"Region",readonly:""},on:{click:t.onSelectRegion},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"business"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"more_horiz"},on:{click:t.onSelectRegion}})]},proxy:!0}],null,!1,2921504289),model:{value:t.regionName,callback:function(e){t.regionName=e},expression:"regionName"}}):t._e(),s("q-input",{attrs:{outlined:"",label:"Job#",readonly:""},on:{click:t.onSelectJob},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"place"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"more_horiz"},on:{click:t.onSelectJob}})]},proxy:!0}]),model:{value:t.jobNumber,callback:function(e){t.jobNumber=e},expression:"jobNumber"}}),s("q-input",{attrs:{outlined:"",label:"Date",filled:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"today"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{options:t.onCheckDateRange,mask:"MM/DD/YYYY"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"more_horiz"}},[s("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{attrs:{options:t.onCheckDateRange,mask:"MM/DD/YYYY"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[s("div",{staticClass:"row items-center justify-end q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("div",{staticClass:"col-6",on:{click:function(e){return t.onNavigate("JobTimesheetList")}}},[s("q-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"4.4em"},attrs:{name:"schedule"}}),s("div",[t._v("\n            Job Timesheet\n          ")])],1),t.isRegionManager?s("div",{staticClass:"col-6",on:{click:function(e){return t.onNavigate("RegionTimesheetList")}}},[s("q-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"4.4em"},attrs:{name:"list_alt"}}),s("div",[t._v("\n            Region Timesheet\n          ")])],1):t._e(),s("div",{staticClass:"col-6",on:{click:function(e){return t.onNavigate("EquipmentRepairList")}}},[s("q-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"4.4em"},attrs:{name:"build"}}),s("div",[t._v("\n            Equipment Repair\n          ")])],1),s("div",{staticClass:"col-6",on:{click:function(e){return t.onNavigate("NightReportList")}}},[s("q-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"4.4em"},attrs:{name:"menu_book"}}),s("div",[t._v("\n            Red Book\n          ")])],1)],1)])],1)],1)},a=[],o=s("2b0e"),n=s("d257"),r=s("df98"),l=s("06d6"),c=o["a"].extend({name:"Dashboard",data(){return{leftDrawerOpen:!1,setting:new r["a"],accountPK:"",isRegionManager:!1,regionList:new Array,jobList:new Array,jobNumber:"",regionName:"",regionPK:"",date:""}},methods:{showError(t){this.$q.dialog({title:"Error",message:t})},onLogout(){sessionStorage.clear(),localStorage.clear(),this.$router.push({name:"Login"})},onNavigate(t){0!==this.jobNumber.length&&0!==this.date.length?(this.setting.searchRegionName=this.regionName,this.setting.searchRegionPK=this.regionPK,this.setting.searchJobNumber=this.jobNumber,this.setting.searchDateTime=this.date,r["a"].save(this.setting),n["a"].setJob({jobNumber:this.jobNumber,regionName:this.regionName,regionPK:this.regionPK}),this.$store.commit("JobStore/SET_LIST",{list:[]}),this.$store.commit("RegionStore/SET_LIST",{list:[]}),this.$store.commit("EquipmentRepairStore/SET_LIST",{list:[]}),this.$store.commit("NightReportStore/SET_LIST",{list:[]}),this.$router.push({name:t})):this.showError("Please select a job firstly.")},onCheckDateRange(t){return t>=this.setting.minDateTime&&t<=this.setting.maxDateTime},onSelectRegion(){this.regionList.length>0?this.selectRegion():(this.$q.loading.show(),l["a"].GetRegionList("").then(t=>{this.$q.loading.hide(),t.data.ok?(this.regionList=t.data.result,0===this.regionList.length?this.showError("The region does not exist"):this.selectRegion()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)}))},selectRegion(){const t=new Array;for(let e of this.regionList)t.push({label:e.regionName,pk:e.regionPK,icon:"business"});this.$q.bottomSheet({actions:t}).onOk(t=>{this.regionPK!==t.pk&&(this.regionName=t.label,this.regionPK=t.pk,this.jobNumber="",this.jobList.length=0)})},onSelectJob(){if(this.jobList.length>0)this.selectJob();else if(this.isRegionManager){if(""===this.regionPK)return void this.showError("Please select region firstly.");this.$q.loading.show(),l["a"].GetJobListByRegion(this.regionPK).then(t=>{this.$q.loading.hide(),t.data.ok?(this.jobList=t.data.result,0===this.jobList.length?this.showError("The jobs does not exist in the "+this.regionName):this.selectJob()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})}else this.$q.loading.show(),l["a"].GetJobListByJobManager(this.accountPK).then(t=>{this.$q.loading.hide(),t.data.ok?(this.jobList=t.data.result,this.selectJob()):this.showError(t.data.message)}).catch(t=>{this.$q.loading.hide(),this.showError(t.message)})},selectJob(){const t=new Array;for(let e of this.jobList)t.push({label:e.jobNumber,icon:"place"});this.$q.bottomSheet({actions:t}).onOk(t=>{this.jobNumber!==t.label&&(this.jobNumber=t.label)})}},mounted(){this.setting=r["a"].load(),this.accountPK=this.setting.accountPK,(this.setting.isCompanyManager||this.setting.isDivisionManager||this.setting.isRegionManager)&&(this.isRegionManager=!0),this.jobNumber=this.setting.searchJobNumber,this.regionName=this.setting.searchRegionName,this.regionPK=this.setting.searchRegionPK,this.date=this.setting.searchDateTime}}),u=c,h=(s("f21c"),s("2877")),p=Object(h["a"])(u,i,a,!1,null,"8b133128",null);e["default"]=p.exports},f21c:function(t,e,s){"use strict";var i=s("c74e"),a=s.n(i);a.a},f4b6:function(t,e,s){},fd30:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("2c75");class a{static DeleteTimeSheet(t){const e={pk:t};return i["a"].post("BizRegion_DeleteTimeSheet",e)}static GetTimeSheet(t){const e={pk:t};return i["a"].post("BizRegion_GetTimeSheet",e)}static GetTimeSheetList(t){const e={regionPK:t};return i["a"].post("BizRegion_GetTimeSheetList",e)}static UpdateTimeSheet(t){return i["a"].post("BizRegion_UpdateTimeSheet",t)}}},fe17:function(t,e,s){"use strict";var i=s("a9d2"),a=s.n(i);a.a}}]);